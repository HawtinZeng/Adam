import{l as s}from"./index-CGwCSIWv.js";const r=s("http://localhost:5555",{transports:["websocket"]});r.on("connect",()=>{console.log("connected from client from background process"),r.emit("testLatency",`sent @${new Date().getTime()} from backgroundts`)});r.on("queryActiveTabId",async()=>{let e={active:!0,currentWindow:!0},[t]=await chrome.tabs.query(e);r.emit("deliverActiveTabId",t==null?void 0:t.id)});chrome.tabs.onCreated.addListener(function(e){r.emit("activeBrowserTab",e.id)});chrome.tabs.onActivated.addListener(function(e){r.emit("activeBrowserTab",e.tabId)});chrome.runtime.onMessage.addListener((e,t,n)=>{if(e.action==="getCurrentTab"){let a={active:!0,currentWindow:!0};return chrome.tabs.query(a).then(c=>{chrome.tabs.getZoom().then(i=>{var o;n({tabId:(o=c[0])==null?void 0:o.id,zoomValue:i})})}),!0}});chrome.tabs.onZoomChange.addListener(e=>{chrome.tabs.query({active:!0,currentWindow:!0},function(t){t[0]&&chrome.tabs.sendMessage(t[0].id,{type:"zoom",data:e,tabId:t[0].id})})});
